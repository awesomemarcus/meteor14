before_script:
  - shopt -s expand_aliases
  - uname -r
  - pwd
  - meteor node --version
  - meteor npm --version
  - export PROJECTFILE="mantraboilerplate.tar.gz"
  - export FOLDER="/home/snapzio/mantraboilerplate/"
  - bash version.sh > private/version.json;
  - alias time="/usr/bin/time -f 'Took %e seconds'"

cache:
  paths:
    - .meteor/local/
    - node_modules/

build:
  stage: build
  script:
    - time npm install;

test:
  stage: test
  script:
    - time eslint .
    - time npm test
